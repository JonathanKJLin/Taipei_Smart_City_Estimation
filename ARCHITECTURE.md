# ç³»çµ±æ¶æ§‹æ–‡æª”

> æ”¿åºœä¼°é©—è¨ˆåƒ¹è‡ªå‹•åŒ–é©—ç®—ç³»çµ± - æŠ€è¡“æ¶æ§‹èˆ‡è¨­è¨ˆ  
> éµå¾ªåš´è¬¹çš„ 5 æ­¥é©Ÿæµç¨‹æ¶æ§‹

---

## ğŸ¯ 5 æ­¥é©Ÿæµç¨‹æ¶æ§‹

æœ¬ç³»çµ±åš´æ ¼éµå¾ªä»¥ä¸‹ 5 å€‹æ­¥é©Ÿï¼Œç¢ºä¿æ¯å€‹éšæ®µè·è²¬æ¸…æ™°ã€æ¨¡çµ„ç¨ç«‹ï¼š

### Step 1: Data Extractionï¼ˆè³‡æ–™æ“·å–ï¼‰
- **æŠ€è¡“**: Azure Document Intelligence (ICR)
- **è·è²¬**: æ–‡ä»¶æƒæã€è¡¨æ ¼è­˜åˆ¥ã€æ¬„ä½æ“·å–
- **æ¨¡çµ„**: `services/step1_extraction/`
- **è¼¸å…¥**: PDF/åœ–ç‰‡æ–‡ä»¶
- **è¼¸å‡º**: çµæ§‹åŒ–çš„ ICR è³‡æ–™

### Step 2: Context Understandingï¼ˆèªå¢ƒç†è§£ï¼‰
- **æŠ€è¡“**: OpenAI GPT-5 (NLP/Reasoning)
- **è·è²¬**: èªç¾©åˆ†æã€æ¬„ä½å°æ‡‰ã€é‚è¼¯è­˜åˆ¥
- **æ¨¡çµ„**: `services/step2_understanding/`
- **è¼¸å…¥**: ICR è³‡æ–™
- **è¼¸å‡º**: èªç¾©ç†è§£å¾Œçš„çµæ§‹åŒ–è³‡æ–™

### Step 3: Standardizationï¼ˆæ¨™æº–åŒ–è™•ç†ï¼‰
- **æŠ€è¡“**: Python Data Processing
- **è·è²¬**: è³‡æ–™æ¸…æ´—ã€æ ¼å¼æ¨™æº–åŒ–ã€Schema é©—è­‰
- **æ¨¡çµ„**: `services/step3_standardization/`
- **è¼¸å…¥**: ç†è§£å¾Œçš„è³‡æ–™
- **è¼¸å‡º**: æ¨™æº–åŒ–çš„ JSON è³‡æ–™

### Step 4: Validation Engineï¼ˆé©—ç®—å¼•æ“ï¼‰
- **æŠ€è¡“**: Python Rule Engine
- **è·è²¬**: é‡‘é¡åŠ ç¸½ã€ç´¯è¨ˆæª¢æ ¸ã€ä»˜æ¬¾æ¢ä»¶é©—è­‰
- **æ¨¡çµ„**: `services/step4_validation/`
- **è¼¸å…¥**: æ¨™æº–åŒ–è³‡æ–™
- **è¼¸å‡º**: é©—ç®—çµæœå ±å‘Š

### Step 5: Feedback Loopï¼ˆå›é¥‹å¾ªç’°ï¼‰
- **æŠ€è¡“**: Machine Learning / Rule Optimization
- **è·è²¬**: æ”¶é›†å›é¥‹ã€å„ªåŒ–æ¨¡å‹ã€æŒçºŒå­¸ç¿’
- **æ¨¡çµ„**: `services/step5_feedback/`
- **è¼¸å…¥**: äººå·¥å¯©æ ¸å›é¥‹
- **è¼¸å‡º**: å„ªåŒ–å»ºè­°èˆ‡æ›´æ–°

---

## ğŸ“ ç³»çµ±æ¶æ§‹æ¦‚è¦½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ä¼°é©—è¨ˆåƒ¹æ–‡ä»¶è¼¸å…¥å±¤                           â”‚
â”‚  (PDF/Imageæ ¼å¼çš„ä¼°é©—è¨ˆåƒ¹å–®ã€ä»˜æ¬¾æ˜ç´°ã€å·¥ç¨‹åˆç´„ç­‰)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              æ–‡ä»¶æƒæèˆ‡ ICR å±¤ (Azure DI)                         â”‚
â”‚  â€¢ æ–‡ä»¶åˆ†é¡è­˜åˆ¥                                                   â”‚
â”‚  â€¢ è¡¨æ ¼çµæ§‹è¾¨è­˜                                                   â”‚
â”‚  â€¢ æ–‡å­—ã€æ•¸å­—ã€æ¬„ä½æ“·å–ï¼ˆæ™ºèƒ½å­—å…ƒè­˜åˆ¥ï¼‰                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           è‡ªç„¶èªè¨€è™•ç†èˆ‡ç†è§£å±¤ (GPT-5)                            â”‚
â”‚  â€¢ æ¬„ä½èªç¾©ç†è§£èˆ‡å°æ‡‰                                             â”‚
â”‚  â€¢ é‚è¼¯é—œè¯è­˜åˆ¥ï¼ˆåŠ ç¸½é—œä¿‚ã€æ¢ä»¶é—œä¿‚ï¼‰                              â”‚
â”‚  â€¢ ä»˜æ¬¾æ¢ä»¶æè¿°è§£æ                                               â”‚
â”‚  â€¢ æ•¸æ“šæ¨™æº–åŒ–è™•ç†                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  AI è¦å‰‡å¼•æ“æ ¸å¿ƒå±¤                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ é‡‘é¡åŠ ç¸½æ¨¡çµ„ â”‚  â”‚ ç´¯è¨ˆæª¢æ ¸æ¨¡çµ„ â”‚  â”‚ æ¢ä»¶é©—ç®—æ¨¡çµ„ â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚  â€¢ è‡ªå‹•åŸ·è¡Œé©—ç®—é‚è¼¯                                               â”‚
â”‚  â€¢ éŒ¯èª¤åµæ¸¬èˆ‡æ¨™è¨˜                                                 â”‚
â”‚  â€¢ è¦å‰‡å‹•æ…‹å­¸ç¿’èˆ‡å„ªåŒ–                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              è³‡æ–™è¼¸å‡ºèˆ‡å›é¥‹å±¤                                     â”‚
â”‚  â€¢ æ¨™æº–åŒ– JSON æ ¼å¼è¼¸å‡º                                           â”‚
â”‚  â€¢ é©—ç®—çµæœå ±å‘Š                                                   â”‚
â”‚  â€¢ ç•°å¸¸æ¨™è¨˜èˆ‡å»ºè­°                                                 â”‚
â”‚  â€¢ äººå·¥å¯©æ ¸ä»‹é¢                                                   â”‚
â”‚  â€¢ å›é¥‹æ©Ÿåˆ¶ï¼ˆå¼·åŒ–å­¸ç¿’ï¼‰                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ æ ¸å¿ƒæ¨¡çµ„è©³è§£

### 1. æ–‡ä»¶è™•ç†æ¨¡çµ„ (Document Processing)

**åŠŸèƒ½**ï¼šæ¥æ”¶ä¸¦é è™•ç†å„é¡æ–‡ä»¶

**æŠ€è¡“æ£§**ï¼š
- Azure Document Intelligence API
- PyPDF2 / pdf2image

**è™•ç†æµç¨‹**ï¼š
```python
# services/base/azure_di_service.py
class AzureDocumentIntelligenceService:
    def analyze_document(file_path, model_id="prebuilt-layout"):
        # ICR æ™ºèƒ½å­—å…ƒè­˜åˆ¥
        # è¡¨æ ¼çµæ§‹è¾¨è­˜
        # è¿”å›çµæ§‹åŒ–è³‡æ–™
        return structured_data
```

### 2. èªç¾©ç†è§£æ¨¡çµ„ (Semantic Understanding)

**åŠŸèƒ½**ï¼šä½¿ç”¨ GPT-5 ç†è§£æ–‡ä»¶èªç¾©

**æ ¸å¿ƒèƒ½åŠ›**ï¼š
- æ¬„ä½å°æ‡‰åˆ°æ¨™æº– Schema
- è­˜åˆ¥é‚è¼¯é—œè¯ï¼ˆå¦‚ï¼šå–®åƒ¹ Ã— æ•¸é‡ = é‡‘é¡ï¼‰
- è§£æä»˜æ¬¾æ¢ä»¶è‡ªç„¶èªè¨€

**å¯¦ä½œ**ï¼š
```python
# services/base/azure_gpt_service.py
class AzureGPTService:
    def understand_field_mapping(icr_data, target_schema):
        # Few-shot Learning + Prompt Engineering
        # è¿”å›æ¨™æº–åŒ–è³‡æ–™
        return mapped_data
```

### 3. AI è¦å‰‡å¼•æ“ (Rules Engine)

#### 3.1 é‡‘é¡é©—ç®—å¼•æ“

**é©—è­‰é …ç›®**ï¼š
- âœ… ç›´å¼åŠ ç¸½ï¼šæ‰€æœ‰é …ç›®é‡‘é¡åŠ ç¸½ = ç¸½é‡‘é¡
- âœ… æ©«å¼è¨ˆç®—ï¼šå–®åƒ¹ Ã— æ•¸é‡ = é‡‘é¡
- âœ… å°è¨ˆèˆ‡ç¸½è¨ˆæª¢æ ¸

**å¯¦ä½œæ¶æ§‹**ï¼š
```python
# services/estimation/amount_engine.py
class AmountCalculationEngine:
    def validate_vertical_sum(data):
        # é©—è­‰ç›´å¼åŠ ç¸½
        
    def validate_horizontal_calculation(data):
        # é©—è­‰æ©«å¼è¨ˆç®—
```

#### 3.2 ç´¯è¨ˆæª¢æ ¸æ¨¡çµ„

**é©—è­‰é‚è¼¯**ï¼š
```
å‰æœŸç´¯è¨ˆ + æœ¬æœŸé‡‘é¡ = æœ¬æœŸç´¯è¨ˆ
æœ¬æœŸç´¯è¨ˆ â‰¤ åˆç´„ç¸½é¡
```

**å¯¦ä½œæ¶æ§‹**ï¼š
```python
# services/estimation/accumulation_checker.py
class AccumulationChecker:
    def check_accumulation_logic(current, previous):
        # é©—è­‰ç´¯è¨ˆé‚è¼¯
        
    def check_contract_limit(current, contract):
        # é©—è­‰åˆç´„ä¸Šé™
```

#### 3.3 ä»˜æ¬¾æ¢ä»¶å¼•æ“

**åŠŸèƒ½**ï¼š
- è§£æè‡ªç„¶èªè¨€ä»˜æ¬¾æ¢ä»¶ï¼ˆä½¿ç”¨ GPT-5ï¼‰
- é©—è­‰æ˜¯å¦ç¬¦åˆä»˜æ¬¾æ¢ä»¶

**ç¯„ä¾‹**ï¼š
```
è¼¸å…¥ï¼šã€Œå·¥ç¨‹å®Œæˆ30%å¾Œæ”¯ä»˜ç¬¬äºŒæœŸæ¬¾ã€
è¼¸å‡ºï¼š{
  "trigger_type": "progress",
  "threshold": 30,
  "payment_phase": 2
}
```

---

## ğŸ’¾ è³‡æ–™æµç¨‹

### å®Œæ•´è™•ç†æµç¨‹

```
1. æ–‡ä»¶ä¸Šå‚³
   â†“
2. Azure DI ICR æƒæ
   â†“
3. åˆæ­¥è³‡æ–™æ“·å–ï¼ˆè¡¨æ ¼ã€æ–‡å­—ã€æ•¸å­—ï¼‰
   â†“
4. GPT-5 èªç¾©åˆ†æèˆ‡æ¬„ä½å°æ‡‰
   â†“
5. è³‡æ–™æ¨™æº–åŒ–è™•ç†
   â†“
6. AI è¦å‰‡å¼•æ“é©—ç®—
   â”œâ”€ é‡‘é¡åŠ ç¸½æª¢æŸ¥
   â”œâ”€ ç´¯è¨ˆé‡‘é¡æª¢æ ¸
   â””â”€ ä»˜æ¬¾æ¢ä»¶é©—ç®—
   â†“
7. ç”Ÿæˆæ¨™æº–åŒ– JSON è¼¸å‡º
   â†“
8. é©—ç®—çµæœå ±å‘Šèˆ‡ç•°å¸¸æ¨™è¨˜
   â†“
9. äººå·¥å¯©æ ¸èˆ‡å›é¥‹
   â†“
10. AI æ¨¡çµ„æŒçºŒå„ªåŒ–
```

### è³‡æ–™æ ¼å¼ç¯„ä¾‹

**è¼¸å…¥ï¼šAzure DI ICR æƒæçµæœ**
```json
{
  "pages": [{
    "tables": [{
      "cells": [
        {"row": 0, "col": 0, "content": "é …æ¬¡"},
        {"row": 1, "col": 1, "content": "é‹¼ç­‹å·¥ç¨‹"}
      ]
    }],
    "key_value_pairs": [...],
    "text": "..."
  }]
}
```

**è¼¸å‡ºï¼šæ¨™æº–åŒ–ä¼°é©—è¨ˆåƒ¹è³‡æ–™**
```json
{
  "document_type": "ä¼°é©—è¨ˆåƒ¹å–®",
  "document_id": "EST-2026-001",
  "period_number": 3,
  "contract_info": {
    "contract_number": "1100-A123",
    "contract_amount": 50000000
  },
  "items": [
    {
      "item_no": "1",
      "description": "é‹¼ç­‹å·¥ç¨‹",
      "unit": "å™¸",
      "quantity": 120.5,
      "unit_price": 25000,
      "amount": 3012500
    }
  ],
  "validation_results": {
    "amount_validation": {"status": "pass"},
    "accumulation_validation": {"status": "pass"},
    "payment_condition_validation": {"status": "pass"}
  },
  "confidence_scores": {
    "overall": 0.92,
    "icr_accuracy": 0.95,
    "field_mapping": 0.90
  }
}
```

---

## ğŸ—ï¸ æŠ€è¡“æ¶æ§‹

### å¾Œç«¯æ¶æ§‹

```
Django 4.x (Web Framework)
    â”‚
    â”œâ”€ REST API (DRF)
    â”‚   â”œâ”€ Document Upload
    â”‚   â”œâ”€ Processing Status
    â”‚   â””â”€ Validation Results
    â”‚
    â”œâ”€ Celery (Async Tasks)
    â”‚   â”œâ”€ Document Processing
    â”‚   â”œâ”€ ICR Analysis
    â”‚   â””â”€ Validation Tasks
    â”‚
    â”œâ”€ Services Layer (5-Step Architecture)
    â”‚   â”œâ”€ Step 1: Data Extraction
    â”‚   â”‚   â”œâ”€ Azure DI Service (ICR)
    â”‚   â”‚   â””â”€ PDF Handler
    â”‚   â”‚
    â”‚   â”œâ”€ Step 2: Context Understanding
    â”‚   â”‚   â”œâ”€ GPT Service (NLP)
    â”‚   â”‚   â””â”€ Prompt Builder
    â”‚   â”‚
    â”‚   â”œâ”€ Step 3: Standardization
    â”‚   â”‚   â”œâ”€ Data Normalizer
    â”‚   â”‚   â””â”€ Schema Validator
    â”‚   â”‚
    â”‚   â”œâ”€ Step 4: Validation Engine
    â”‚   â”‚   â”œâ”€ Amount Engine
    â”‚   â”‚   â”œâ”€ Accumulation Checker
    â”‚   â”‚   â”œâ”€ Payment Condition Engine
    â”‚   â”‚   â””â”€ Rules Engine
    â”‚   â”‚
    â”‚   â”œâ”€ Step 5: Feedback Loop
    â”‚   â”‚   â”œâ”€ Feedback Processor
    â”‚   â”‚   â””â”€ Model Optimizer
    â”‚   â”‚
    â”‚   â””â”€ Common Utilities
    â”‚       â”œâ”€ Confidence Calculator
    â”‚       â””â”€ Error Handler
    â”‚
    â””â”€ Data Layer
        â”œâ”€ PostgreSQL (ä¸»è³‡æ–™åº«)
        â””â”€ Redis (å¿«å– + ä»»å‹™ä½‡åˆ—)
```

### éƒ¨ç½²æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Azure LB   â”‚  è² è¼‰å¹³è¡¡
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
   â”Œâ”€â”€â”€â”´â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”
   â”‚       â”‚       â”‚       â”‚
â”Œâ”€â”€â–¼â”€â”€â” â”Œâ”€â”€â–¼â”€â”€â” â”Œâ”€â”€â–¼â”€â”€â” â”Œâ”€â”€â–¼â”€â”€â”
â”‚Djangoâ”‚ â”‚Djangoâ”‚ â”‚Djangoâ”‚ â”‚Djangoâ”‚
â”‚ App  â”‚ â”‚ App  â”‚ â”‚ App  â”‚ â”‚ App  â”‚
â””â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”€â”˜
   â”‚        â”‚        â”‚        â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
    â”‚               â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
â”‚ Redis â”‚     â”‚PostgreSQL â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”
â”‚ Celery â”‚
â”‚Workers â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
    â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Azure Services  â”‚
â”‚ â€¢ Document Intel â”‚
â”‚ â€¢ OpenAI GPT-5   â”‚
â”‚ â€¢ Blob Storage   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” å®‰å…¨æ€§è¨­è¨ˆ

### å®‰å…¨å±¤ç´š

| å±¤ç´š | æªæ–½ |
|------|------|
| **å‚³è¼¸å®‰å…¨** | HTTPS/TLS åŠ å¯† |
| **è³‡æ–™å®‰å…¨** | AES-256 åŠ å¯†å„²å­˜ |
| **èº«ä»½é©—è­‰** | OAuth 2.0 + JWT |
| **æ¬Šé™æ§åˆ¶** | RBAC è§’è‰²æ¬Šé™ç®¡ç† |
| **ç¨½æ ¸æ—¥èªŒ** | å®Œæ•´æ“ä½œè¨˜éŒ„ |
| **è³‡æ–™é®ç½©** | æ•æ„Ÿè³‡è¨Šä¿è­· |

### Django å®‰å…¨è¨­å®š

```python
# settings/prod.py
SECURE_SSL_REDIRECT = True
SESSION_COOKIE_SECURE = True
CSRF_COOKIE_SECURE = True
SECURE_HSTS_SECONDS = 31536000
```

---

## âš¡ æ•ˆèƒ½æŒ‡æ¨™

| æŒ‡æ¨™ | ç›®æ¨™å€¼ | èªªæ˜ |
|------|--------|------|
| **æ–‡ä»¶è™•ç†æ™‚é–“** | < 5 åˆ†é˜ | å¾ä¸Šå‚³åˆ°å®Œæˆé©—ç®— |
| **ICR æº–ç¢ºç‡** | > 95% | Azure DI æ™ºèƒ½å­—å…ƒè­˜åˆ¥ |
| **æ¬„ä½å°æ‡‰æº–ç¢ºç‡** | > 90% | GPT èªç¾©ç†è§£ |
| **é©—ç®—æº–ç¢ºç‡** | > 98% | è¦å‰‡å¼•æ“è¨ˆç®— |
| **æ•´é«”ä¿¡å¿ƒåˆ†æ•¸** | > 85% | ç¶œåˆè©•ä¼° |
| **ä¸¦ç™¼è™•ç†** | 50+ æ–‡ä»¶ | åŒæ™‚è™•ç†èƒ½åŠ› |

---

## ğŸ“Š è³‡æ–™åº«è¨­è¨ˆ

### æ ¸å¿ƒ Models

**Document**ï¼ˆæ–‡ä»¶ï¼‰
```python
- document_id: æ–‡ä»¶ç·¨è™Ÿ
- document_type: æ–‡ä»¶é¡å‹
- file_path: æª”æ¡ˆè·¯å¾‘
- status: è™•ç†ç‹€æ…‹
- icr_result: ICR çµæœ
- structured_data: çµæ§‹åŒ–è³‡æ–™
- validation_result: é©—ç®—çµæœ
- confidence_score: ä¿¡å¿ƒåˆ†æ•¸
```

**ValidationRule**ï¼ˆé©—è­‰è¦å‰‡ï¼‰
```python
- rule_id: è¦å‰‡ ID
- rule_name: è¦å‰‡åç¨±
- rule_type: è¦å‰‡é¡å‹
- rule_config: è¦å‰‡é…ç½®
- enabled: æ˜¯å¦å•Ÿç”¨
```

**FeedbackRecord**ï¼ˆå›é¥‹è¨˜éŒ„ï¼‰
```python
- document_id: æ–‡ä»¶ç·¨è™Ÿ
- field_name: æ¬„ä½åç¨±
- system_value: ç³»çµ±å€¼
- correct_value: æ­£ç¢ºå€¼
- feedback_type: å›é¥‹é¡å‹
```

---

## ğŸ”„ æ“´å±•æ€§è¨­è¨ˆ

### æ©«å‘æ“´å±•
- Django æ‡‰ç”¨ç„¡ç‹€æ…‹è¨­è¨ˆ
- Celery Worker å¯ä»»æ„æ“´å±•
- è² è¼‰å¹³è¡¡æ”¯æ´

### å‚ç›´æ“´å±•
- è³‡æ–™åº«è®€å¯«åˆ†é›¢
- Redis Cluster
- å¿«å–ç­–ç•¥å„ªåŒ–

### åŠŸèƒ½æ“´å±•
- æ¨¡çµ„åŒ–è¨­è¨ˆ
- Plugin æ¶æ§‹
- API ç‰ˆæœ¬æ§åˆ¶

---

## ğŸ¯ GPT-5 é…ç½®

### ç’°å¢ƒè®Šæ•¸
```bash
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-5
AZURE_OPENAI_API_VERSION=2024-12-01-preview
```

### æœå‹™åˆå§‹åŒ–
```python
# services/base/azure_gpt_service.py
from openai import AzureOpenAI

client = AzureOpenAI(
    api_key=settings.AZURE_OPENAI_KEY,
    api_version=settings.AZURE_OPENAI_API_VERSION,
    azure_endpoint=settings.AZURE_OPENAI_ENDPOINT
)
```

### Prompt Engineering
- Few-shot Learning ç¯„ä¾‹
- çµæ§‹åŒ–è¼¸å‡ºæŒ‡å¼•
- JSON Schema é©—è­‰

---

## ğŸ“ˆ ç›£æ§èˆ‡æ—¥èªŒ

### æ—¥èªŒå±¤ç´š
- **DEBUG**: é–‹ç™¼é™¤éŒ¯è³‡è¨Š
- **INFO**: ä¸€èˆ¬æ“ä½œè¨˜éŒ„
- **WARNING**: è­¦å‘Šè¨Šæ¯
- **ERROR**: éŒ¯èª¤äº‹ä»¶
- **CRITICAL**: åš´é‡éŒ¯èª¤

### ç›£æ§æŒ‡æ¨™
- API å›æ‡‰æ™‚é–“
- Celery ä»»å‹™ç‹€æ…‹
- è³‡æ–™åº«æŸ¥è©¢æ•ˆèƒ½
- Azure æœå‹™èª¿ç”¨æ¬¡æ•¸
- è¨˜æ†¶é«”èˆ‡ CPU ä½¿ç”¨ç‡

---

## ğŸš€ æœªä¾†è¦åŠƒ

### Phase 2
- [ ] å‰ç«¯ä½¿ç”¨è€…ä»‹é¢
- [ ] æ‰¹æ¬¡è™•ç†åŠŸèƒ½
- [ ] å ±è¡¨ç”Ÿæˆç³»çµ±

### Phase 3
- [ ] è¡Œå‹•ç«¯ App
- [ ] è·¨æ©Ÿé—œè³‡æ–™æ•´åˆ
- [ ] é è­¦ç³»çµ±

### Phase 4
- [ ] AI æ¨¡å‹å¾®èª¿
- [ ] è‡ªå‹•åŒ–æ¸¬è©¦æ¡†æ¶
- [ ] æ•ˆèƒ½å„ªåŒ–

---

*æœ€å¾Œæ›´æ–°: 2026-01-12*  
*ç‰ˆæœ¬: 1.0.0*
